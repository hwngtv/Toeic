2025-05-27 15:51:03 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 15:51:03 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 15:51:03 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 15:51:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-27 15:51:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-27 15:51:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 15:51:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 9 JPA repository interfaces.
2025-05-27 15:51:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 15:51:04 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 15:51:04 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 15:51:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 15:51:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1306 ms
2025-05-27 15:51:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 15:51:05 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-27 15:51:05 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 15:51:05 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 15:51:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-27 15:51:05 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2eff20d1
2025-05-27 15:51:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-27 15:51:05 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 15:51:05 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 15:51:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 15:51:06 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 15:51:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 15:51:06 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 15:51:06 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 15:51:06 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 15:51:06 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-27 15:51:08 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 15:51:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-05-27 15:51:08 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 15:51:08 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 15:51:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 15:51:08 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 15:51:08 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 15:51:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 15:51:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 15:51:09 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 5.773 seconds (process running for 6.042)
2025-05-27 15:51:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 15:51:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 15:51:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 15:51:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 15:51:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 15:51:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 15:51:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 15:51:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 15:51:16 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 15:51:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 15:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 15:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 15:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 15:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7524cd69
2025-05-27 15:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e27c58a
2025-05-27 15:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 15:51:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-05-27 15:51:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335876539
2025-05-27 15:51:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335876548
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335876548
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335876539
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335876539
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335876548
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335876539", parameters={masked}
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335876548", parameters={masked}
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 15:51:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:18 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/my-statistics
2025-05-27 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/my-statistics
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@6fe69202]
2025-05-27 15:51:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@16584107]
2025-05-27 15:51:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335887335
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335887335
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335887335
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335887335", parameters={masked}
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 15:51:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@3833fc2e]
2025-05-27 15:51:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@4601266a]
2025-05-27 15:51:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#login(LoginRequest)
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{username='admin', password='[PROTECTED]'}]
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{id=1, username='admin', email='admin@toeic-app.com', fullName='Administrator', roles=[RO (truncated)...]
2025-05-27 15:51:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@dd7a4ed]
2025-05-27 15:51:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@33f24dca]
2025-05-27 15:51:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335911777
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335911777
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335911777
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335911777", parameters={masked}
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:51:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#login(LoginRequest)
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{username='hung161203', password='[PROTECTED]'}]
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{id=2, username='hung161203', email='hung161203@gmail.com', fullName='Trần Văn Hưng', rol (truncated)...]
2025-05-27 15:52:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-05-27 15:52:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-05-27 15:52:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335927004
2025-05-27 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335927005
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335927004
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335927005
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335927012
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335927013
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335927013
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335927012
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335927004
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335927004", parameters={masked}
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335927005
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335927005", parameters={masked}
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335927013
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335927012
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335927012", parameters={masked}
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335927013", parameters={masked}
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-05-27 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-05-27 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335928339
2025-05-27 15:52:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335928339
2025-05-27 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335928344
2025-05-27 15:52:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748335928344
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335928344
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335928344
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335928339
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748335928339
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335928339
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335928344
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335928344
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335928339", parameters={masked}
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335928344", parameters={masked}
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335928344", parameters={masked}
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748335928339
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748335928339", parameters={masked}
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:52:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:52:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-05-27 15:52:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-05-27 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/active
2025-05-27 15:52:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/active
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@7603684, com.hungtv.toeic.be.payload.response.Tes (truncated)...]
2025-05-27 15:52:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@293d6bde, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 15:52:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/2/questions
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/2/questions
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/2/questions
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/2/questions", parameters={}
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@8c55ef]]
2025-05-27 15:52:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/4/questions
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4/questions
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4/questions
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4/questions", parameters={}
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@1e1c00a7]]
2025-05-27 15:52:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/4
2025-05-27 15:52:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/4
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4", parameters={}
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestById(Long)
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResponse@54a19dfd]
2025-05-27 15:52:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4/questions
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4", parameters={}
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestById(Long)
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4/questions
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4/questions", parameters={}
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResponse@2060456e]
2025-05-27 15:52:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@3a81ebda]]
2025-05-27 15:52:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4/questions
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4/questions
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4/questions", parameters={}
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@a9339b8]]
2025-05-27 15:52:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/submit
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/test-results/submit
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/test-results/submit
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/test-results/submit", parameters={}
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#submitTestResult(SaveTestResultRequest)
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.SaveTestResultRequest@58fbebbe]
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.submitTestResult(com.hungtv.toeic.be.payload.request.SaveTestResultRequest); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.submitTestResult(com.hungtv.toeic.be.payload.request.SaveTestResultRequest); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        test_results
        (completion_time_in_minutes, correct_answers, created_at, grammar_score, listening_scaled_score, listening_score, reading_scaled_score, reading_score, test_id, total_questions, total_score, user_id, vocabulary_score) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    where
        tq1_0.id in (?)
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_answers
        (is_correct, question_id, test_result_id, user_answer) 
    values
        (?, ?, ?, ?)
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        test_results 
    set
        completion_time_in_minutes=?,
        correct_answers=?,
        grammar_score=?,
        listening_scaled_score=?,
        listening_score=?,
        reading_scaled_score=?,
        reading_score=?,
        test_id=?,
        total_questions=?,
        total_score=?,
        user_id=?,
        vocabulary_score=? 
    where
        id=?
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResultResponse@712f0307]
2025-05-27 15:52:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:52:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:52:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@13df5aec]
2025-05-27 15:52:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:52:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:52:31 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:52:31 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:52:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@3e186878]
2025-05-27 15:52:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:55:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:55:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@7b64adcb]
2025-05-27 15:55:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@152aa090]
2025-05-27 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@25710b37, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 15:55:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@225330cc, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 15:55:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4", parameters={}
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestById(Long)
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResponse@827c8d1]
2025-05-27 15:55:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4/questions
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4", parameters={}
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestById(Long)
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4/questions
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4/questions", parameters={}
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResponse@58008ac4]
2025-05-27 15:55:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@4db5a419]]
2025-05-27 15:55:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/4/questions
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/4/questions
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/4/questions", parameters={}
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@76053f1c]]
2025-05-27 15:55:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/test-results/submit
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/test-results/submit
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/test-results/submit", parameters={}
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#submitTestResult(SaveTestResultRequest)
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.SaveTestResultRequest@1ba9e01]
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.submitTestResult(com.hungtv.toeic.be.payload.request.SaveTestResultRequest); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.submitTestResult(com.hungtv.toeic.be.payload.request.SaveTestResultRequest); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        test_results
        (completion_time_in_minutes, correct_answers, created_at, grammar_score, listening_scaled_score, listening_score, reading_scaled_score, reading_score, test_id, total_questions, total_score, user_id, vocabulary_score) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    where
        tq1_0.id in (?)
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_answers
        (is_correct, question_id, test_result_id, user_answer) 
    values
        (?, ?, ?, ?)
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        test_results 
    set
        completion_time_in_minutes=?,
        correct_answers=?,
        grammar_score=?,
        listening_scaled_score=?,
        listening_score=?,
        reading_scaled_score=?,
        reading_score=?,
        test_id=?,
        total_questions=?,
        total_score=?,
        user_id=?,
        vocabulary_score=? 
    where
        id=?
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResultResponse@37b30da3]
2025-05-27 15:55:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:55:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:55:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@123c052a]
2025-05-27 15:55:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@1d051ea1]
2025-05-27 15:55:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336145294
2025-05-27 15:55:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336145295
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336145294
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336145295
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336145301
2025-05-27 15:55:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336145301
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336145301
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336145301
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336145295
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336145294
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336145295", parameters={masked}
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336145294", parameters={masked}
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336145301
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336145301
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336145301", parameters={masked}
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336145301", parameters={masked}
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@76d2faa]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@4e3d9293]
2025-05-27 15:55:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336147240
2025-05-27 15:55:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336147239
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336147239
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336147240
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336147244
2025-05-27 15:55:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336147244
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336147240
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336147239
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336147240", parameters={masked}
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336147239", parameters={masked}
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336147244
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336147244
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336147244
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336147244", parameters={masked}
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336147244
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336147244", parameters={masked}
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 15:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@22ab5100]
2025-05-27 15:55:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@7a4effce]
2025-05-27 15:55:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@2e497f0c]
2025-05-27 15:57:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5b4071f1]
2025-05-27 15:58:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@5c0816e3, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 15:59:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@56c61524, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 15:59:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/1/questions
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/1/questions
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/1/questions
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/1/questions", parameters={}
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@19d88d9, com.hungtv.toeic.be.payload.res (truncated)...]
2025-05-27 15:59:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/2/questions
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/2/questions
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/2/questions", parameters={}
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@70734b2d]]
2025-05-27 15:59:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/2
2025-05-27 15:59:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/2
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/2
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/2
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/2", parameters={}
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestById(Long)
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResponse@60a2a981]
2025-05-27 15:59:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/2
2025-05-27 15:59:18 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:18 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/2/questions
2025-05-27 15:59:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/2
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/2", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestById(Long)
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/2/questions
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/2/questions", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResponse@5af7e2c9]
2025-05-27 15:59:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@13922106]]
2025-05-27 15:59:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/2/questions
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/files/view/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/2/questions
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/2/questions", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getTestQuestions(Long)
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/files/view/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/view/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.FileController#viewFile(HttpServletRequest)
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:image/png' in response
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [URL [file:///home/hwngtv/datn/uploads/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png]]
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        qg1_0.test_id,
        qg1_1.id,
        qg1_1.audio_url,
        qg1_1.image_url,
        qg1_1.part,
        qg1_1.passage,
        qg1_1.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_1.title 
    from
        test_question_groups qg1_0 
    join
        question_groups qg1_1 
            on qg1_1.id=qg1_0.question_group_id 
    left join
        tests t1_0 
            on t1_0.id=qg1_1.test_id 
    where
        qg1_0.test_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 15:59:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@132de621]]
2025-05-27 15:59:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.FileController#viewFile(HttpServletRequest)
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:audio/mpeg' in response
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[org.springframework.core.io.support.ResourceRegion@3e65cdb4]]
2025-05-27 15:59:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 206 PARTIAL_CONTENT
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/files/view/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/files/view/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/view/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.FileController#viewFile(HttpServletRequest)
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.FileController#viewFile(HttpServletRequest)
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:audio/mpeg' in response
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[org.springframework.core.io.support.ResourceRegion@72e4c38e]]
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:image/png' in response
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [URL [file:///home/hwngtv/datn/uploads/images/bba75d01-0e9d-459f-b4d8-95124e333b49.png]]
2025-05-27 15:59:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 206 PARTIAL_CONTENT
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/files/view/audio/04a4c570-84ad-4b7e-94af-95f6ff70c297.mp3", parameters={}
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.FileController#viewFile(HttpServletRequest)
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.FileController.viewFile(jakarta.servlet.http.HttpServletRequest); target is of class [com.hungtv.toeic.be.controllers.FileController]
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:audio/mpeg' in response
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[org.springframework.core.io.support.ResourceRegion@4eb7eac3]]
2025-05-27 15:59:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 206 PARTIAL_CONTENT
2025-05-27 15:59:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/test-results/submit
2025-05-27 15:59:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/test-results/submit
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/test-results/submit", parameters={}
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#submitTestResult(SaveTestResultRequest)
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.SaveTestResultRequest@210f75de]
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.submitTestResult(com.hungtv.toeic.be.payload.request.SaveTestResultRequest); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.submitTestResult(com.hungtv.toeic.be.payload.request.SaveTestResultRequest); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        test_results
        (completion_time_in_minutes, correct_answers, created_at, grammar_score, listening_scaled_score, listening_score, reading_scaled_score, reading_score, test_id, total_questions, total_score, user_id, vocabulary_score) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    where
        tq1_0.id in (?)
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_answers
        (is_correct, question_id, test_result_id, user_answer) 
    values
        (?, ?, ?, ?)
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        test_results 
    set
        completion_time_in_minutes=?,
        correct_answers=?,
        grammar_score=?,
        listening_scaled_score=?,
        listening_score=?,
        reading_scaled_score=?,
        reading_score=?,
        test_id=?,
        total_questions=?,
        total_score=?,
        user_id=?,
        vocabulary_score=? 
    where
        id=?
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResultResponse@6fe66f4a]
2025-05-27 15:59:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@1248cd1a]
2025-05-27 15:59:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@1fdadf7a]
2025-05-27 15:59:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336576629
2025-05-27 16:02:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336576631
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336576631
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336576629
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336576640
2025-05-27 16:02:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336576638
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336576638
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336576640
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336576631
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336576631", parameters={masked}
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336576629
2025-05-27 16:02:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336576629", parameters={masked}
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336576640
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336576640", parameters={masked}
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336576638
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336576638", parameters={masked}
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336578684
2025-05-27 16:02:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336578685
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336578684
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336578685
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336578695
2025-05-27 16:02:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748336578696
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336578696
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748336578695
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336578685
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336578684
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336578684", parameters={masked}
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336578685", parameters={masked}
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336578696
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748336578695
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336578695", parameters={masked}
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748336578696", parameters={masked}
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:02:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:02:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:03:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/9
2025-05-27 16:03:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/9
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/9
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/9
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/9", parameters={}
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getTestResultDetail(Long)
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    join
        tests t1_0 
            on t1_0.id=tr1_0.test_id 
    join
        users u1_0 
            on u1_0.id=tr1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        tr1_0.id=?
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResultResponse@696941d7]
2025-05-27 16:03:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/9
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/9
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/9", parameters={}
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getTestResultDetail(Long)
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    join
        tests t1_0 
            on t1_0.id=tr1_0.test_id 
    join
        users u1_0 
            on u1_0.id=tr1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        tr1_0.id=?
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResultResponse@6886f305]
2025-05-27 16:03:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@6cfcb316, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 16:04:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@258eb588, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 16:04:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@113cfbdc, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 16:04:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@7b941ecf, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 16:04:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:04:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:04:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/7
2025-05-27 16:04:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/7
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/7
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/7
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/7", parameters={}
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getTestResultDetail(Long)
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    join
        tests t1_0 
            on t1_0.id=tr1_0.test_id 
    join
        users u1_0 
            on u1_0.id=tr1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        tr1_0.id=?
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResultResponse@49be23d6]
2025-05-27 16:04:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/7
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/7
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/7", parameters={}
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getTestResultDetail(Long)
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getTestResultDetail(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    join
        tests t1_0 
            on t1_0.id=tr1_0.test_id 
    join
        users u1_0 
            on u1_0.id=tr1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        tr1_0.id=?
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.TestResultResponse@6b9eb517]
2025-05-27 16:04:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@700f68a2, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@393e8fd8, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 16:04:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:05:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:05:06 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:05:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337196030
2025-05-27 16:13:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337196032
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337196030
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337196032
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337196040
2025-05-27 16:13:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337196041
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337196030
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337196032
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337196030", parameters={masked}
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337196032", parameters={masked}
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337196040
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337196041
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337196041
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337196041", parameters={masked}
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337196040
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337196040", parameters={masked}
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@149ed6ca]
2025-05-27 16:13:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5e226d1]
2025-05-27 16:13:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337201709
2025-05-27 16:13:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337201710
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337201709
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337201720
2025-05-27 16:13:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337201718
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337201710
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337201718
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337201720
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337201709
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337201709", parameters={masked}
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337201718
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337201718", parameters={masked}
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337201720
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337201720", parameters={masked}
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337201710
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337201710", parameters={masked}
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5bcb6e36]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@4e1d6667]
2025-05-27 16:13:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337204961
2025-05-27 16:13:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337204962
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337204961
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337204962
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337204972
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337204973
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337204973
2025-05-27 16:13:24 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337204972
2025-05-27 16:13:24 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:24 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337204961
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337204961", parameters={masked}
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337204962
2025-05-27 16:13:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337204962", parameters={masked}
2025-05-27 16:13:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337204972
2025-05-27 16:13:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337204972", parameters={masked}
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337204973
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337204973", parameters={masked}
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:13:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@29906f06]
2025-05-27 16:13:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@4459034d]
2025-05-27 16:13:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@b7510d8]
2025-05-27 16:13:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-05-27 16:14:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-05-27 16:14:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-05-27 16:14:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-05-27 16:14:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, filter=true, oauth2RedirectUrl=http://localhost:8080/swagger (truncated)...]
2025-05-27 16:14:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-05-27 16:14:27 [http-nio-8080-exec-10] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 656 ms
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-05-27 16:14:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@2ee7bb34]
2025-05-27 16:19:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@46edd57e]
2025-05-27 16:19:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@7a826107]
2025-05-27 16:20:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:20:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/2
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/2
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/2
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateUser(Long, UpdateUserRequest)
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateUserRequest@3c539afe]
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@7420ce0 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-05-27 16:20:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:20:53 [http-nio-8080-exec-4] ERROR c.h.t.b.s.jwt.AuthEntryPointJwt - Lỗi ủy quyền: Full authentication is required to access this resource
2025-05-27 16:20:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/refresh-token
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/refresh-token
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/refresh-token
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh-token", parameters={}
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#refreshToken()
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Refresh token thành công!', success=true}]
2025-05-27 16:20:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:21:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/2/password
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/2/password
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/2/password
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2/password", parameters={}
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users/2/password.]
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-05-27 16:21:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:21:08 [http-nio-8080-exec-1] ERROR c.h.t.b.s.jwt.AuthEntryPointJwt - Lỗi ủy quyền: Full authentication is required to access this resource
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/refresh-token
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/refresh-token
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh-token", parameters={}
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#refreshToken()
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Refresh token thành công!', success=true}]
2025-05-27 16:21:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:21:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:21:57 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:21:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:21:57 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:21:57 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-27 16:21:57 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-27 16:21:57 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:21:57 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:21:57 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:21:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 9 JPA repository interfaces.
2025-05-27 16:21:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:21:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:21:57 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:21:57 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:21:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 510 ms
2025-05-27 16:21:57 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:21:57 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:21:57 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:21:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-27 16:21:57 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5aea0621
2025-05-27 16:21:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-27 16:21:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:21:57 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:21:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:21:58 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:21:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:21:58 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:21:58 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:21:58 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:21:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:21:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:21:58 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:21:58 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:21:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:21:58 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:21:58 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:21:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:21:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:21:58 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.54 seconds (process running for 1855.725)
2025-05-27 16:21:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:21:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:21:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:21:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:21:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:21:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:21:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:21:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:21:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:22:25 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:22:25 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:22:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:22:25 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:22:25 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-27 16:22:25 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-27 16:22:25 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:22:25 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:22:25 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:22:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:22:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 9 JPA repository interfaces.
2025-05-27 16:22:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:22:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:22:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:22:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:22:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 373 ms
2025-05-27 16:22:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:22:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:22:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:22:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-27 16:22:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59ec4306
2025-05-27 16:22:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-27 16:22:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:22:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:22:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:22:26 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:22:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:22:26 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:22:26 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:22:26 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:22:26 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:22:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:22:27 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:22:27 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:22:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:22:27 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:22:27 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:22:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:22:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:22:27 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.299 seconds (process running for 1884.103)
2025-05-27 16:22:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:22:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:22:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:22:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:22:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:22:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:22:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:22:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:22:27 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:22:42 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-05-27 16:22:42 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:22:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:22:42 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:22:42 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-27 16:22:42 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-27 16:22:42 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:22:42 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:22:42 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:22:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:22:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 9 JPA repository interfaces.
2025-05-27 16:22:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:22:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:22:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:22:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:22:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 231 ms
2025-05-27 16:22:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:22:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:22:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:22:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-27 16:22:42 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1288d9a3
2025-05-27 16:22:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-27 16:22:42 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:22:42 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:22:42 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:22:42 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:22:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:22:42 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:22:42 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:22:42 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:22:42 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:22:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:22:43 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:22:43 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:22:43 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:22:43 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:22:43 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:22:43 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:22:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:22:43 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.903 seconds (process running for 1900.065)
2025-05-27 16:22:43 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:22:43 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:22:43 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:22:43 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:22:43 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:22:43 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:22:43 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:22:43 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:22:43 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:22:58 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:22:58 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:22:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:22:58 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:22:58 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-27 16:22:58 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-27 16:22:58 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:22:58 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:22:58 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:22:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:22:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 9 JPA repository interfaces.
2025-05-27 16:22:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:22:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:22:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:22:58 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:22:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 262 ms
2025-05-27 16:22:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:22:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:22:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:22:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-27 16:22:58 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1950e481
2025-05-27 16:22:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-27 16:22:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:22:58 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:22:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:22:58 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:22:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:22:58 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:22:58 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:22:58 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:22:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:22:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:22:58 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:22:58 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:22:59 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:22:59 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:22:59 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:22:59 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:22:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:22:59 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.869 seconds (process running for 1916.001)
2025-05-27 16:22:59 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:22:59 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:22:59 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:22:59 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:22:59 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:22:59 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:22:59 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:22:59 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:22:59 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:23:26 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:23:26 [Thread-19] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:23:26 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:23:26 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:23:26 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-27 16:23:26 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-27 16:23:26 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:23:26 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:23:26 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:23:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:23:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 9 JPA repository interfaces.
2025-05-27 16:23:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:23:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:23:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:23:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:23:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 233 ms
2025-05-27 16:23:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:23:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:23:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:23:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-27 16:23:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@639b2c8d
2025-05-27 16:23:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-27 16:23:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:23:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:23:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:23:26 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:23:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:23:26 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:23:26 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:23:26 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:23:27 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:23:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:23:27 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:23:27 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:23:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:23:27 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:23:27 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:23:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:23:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:23:27 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.124 seconds (process running for 1944.201)
2025-05-27 16:23:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:23:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:23:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:23:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:23:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:23:27 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:23:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:23:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:23:27 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:23:32 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:23:32 [Thread-23] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:23:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:23:32 [Thread-23] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:23:32 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-27 16:23:32 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-27 16:23:32 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:23:32 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:23:32 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:23:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:23:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 9 JPA repository interfaces.
2025-05-27 16:23:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:23:32 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:23:32 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:23:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:23:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 223 ms
2025-05-27 16:23:32 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:23:32 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:23:32 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:23:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-05-27 16:23:32 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40061314
2025-05-27 16:23:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-05-27 16:23:32 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:23:32 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:23:32 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:23:32 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:23:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:23:33 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:23:33 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:23:33 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:23:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:23:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 63 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:23:33 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:23:33 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:23:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:23:33 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:23:33 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:23:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:23:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:23:33 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.483 seconds (process running for 1950.734)
2025-05-27 16:23:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:23:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:23:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:23:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:23:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:23:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:23:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:23:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:23:33 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:23:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:23:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@25f2f783
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4f50a23c
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 16:23:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/2
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/2
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateUser(Long, UpdateUserRequest)
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateUserRequest@4ff7d3ea]
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@72efc6e7 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-05-27 16:23:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-27 16:23:36 [http-nio-8080-exec-1] ERROR c.h.t.b.s.jwt.AuthEntryPointJwt - Lỗi ủy quyền: Full authentication is required to access this resource
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/refresh-token
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/refresh-token
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh-token", parameters={}
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#refreshToken()
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Refresh token thành công!', success=true}]
2025-05-27 16:23:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:24:20 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:24:20 [Thread-27] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:24:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:24:20 [Thread-27] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:24:20 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-05-27 16:24:20 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-05-27 16:24:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:24:20 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:24:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:24:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:24:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 9 JPA repository interfaces.
2025-05-27 16:24:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:24:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:24:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:24:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:24:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 192 ms
2025-05-27 16:24:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:24:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:24:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:24:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-05-27 16:24:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@195a845a
2025-05-27 16:24:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-05-27 16:24:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:24:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:24:21 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:24:21 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:24:21 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:24:21 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:24:21 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:24:21 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:24:21 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:24:21 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:24:21 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:24:21 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:24:21 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:24:21 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:24:21 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:24:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:24:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:24:21 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.831 seconds (process running for 1998.642)
2025-05-27 16:24:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:24:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:24:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:24:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:24:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:24:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:24:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:24:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:24:21 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:24:36 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-05-27 16:24:36 [Thread-31] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:24:36 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:24:36 [Thread-31] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:24:36 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-05-27 16:24:36 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-05-27 16:24:36 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:24:36 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:24:36 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:24:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:24:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 9 JPA repository interfaces.
2025-05-27 16:24:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:24:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:24:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:24:37 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:24:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 268 ms
2025-05-27 16:24:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:24:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:24:37 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:24:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-05-27 16:24:37 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f263a4a
2025-05-27 16:24:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-05-27 16:24:37 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:24:37 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:24:37 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:24:37 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:24:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:24:37 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:24:37 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:24:37 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:24:37 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:24:37 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:24:37 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:24:37 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:24:38 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:24:38 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:24:38 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:24:38 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:24:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:24:38 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.288 seconds (process running for 2015.018)
2025-05-27 16:24:38 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:24:38 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:24:38 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:24:38 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:24:38 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:24:38 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:24:38 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:24:38 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:24:38 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:25:00 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:25:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4e3630d5
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3f88cd08
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 16:25:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:25:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@6cb6099f]
2025-05-27 16:25:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:25:19 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:25:19 [Thread-35] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:25:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:25:19 [Thread-35] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:25:19 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-05-27 16:25:19 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-05-27 16:25:19 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:25:19 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:25:19 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:25:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:25:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 9 JPA repository interfaces.
2025-05-27 16:25:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:25:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:25:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:25:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:25:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 161 ms
2025-05-27 16:25:19 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:25:19 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:25:19 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:25:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-05-27 16:25:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@44aeb7e5
2025-05-27 16:25:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-05-27 16:25:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:25:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:25:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:25:19 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:25:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:25:19 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:25:19 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:25:19 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:25:19 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:25:19 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:25:19 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:25:19 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:25:19 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:25:19 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:25:19 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:25:20 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:25:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:25:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.895 seconds (process running for 2057.0)
2025-05-27 16:25:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:25:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:25:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:25:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:25:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:25:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:25:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:25:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:25:20 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:25:34 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:25:34 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2306a550
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@63f30358
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 16:25:34 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@b6feb45]
2025-05-27 16:25:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@223c2567]
2025-05-27 16:25:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@25baf80a]
2025-05-27 16:25:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:25:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@7b218502]
2025-05-27 16:25:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@7edd01c9]
2025-05-27 16:25:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337964527
2025-05-27 16:26:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337964529
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337964527
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337964529
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337964537
2025-05-27 16:26:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748337964538
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337964529
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337964537
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337964529", parameters={masked}
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337964527
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337964527", parameters={masked}
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748337964538
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337964537
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337964537", parameters={masked}
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748337964538
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748337964538", parameters={masked}
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:26:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@d0ed1f]
2025-05-27 16:26:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@1793937b]
2025-05-27 16:26:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/profile
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/profile
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/profile
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/profile", parameters={}
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateCurrentUserProfile(UpdateProfileRequest)
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateProfileRequest@719c01bc]
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@4516ce67]
2025-05-27 16:26:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/profile
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/profile
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/profile", parameters={}
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateCurrentUserProfile(UpdateProfileRequest)
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateProfileRequest@36554e2b]
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@39679b0d]
2025-05-27 16:26:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/profile
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/profile
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/profile", parameters={}
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateCurrentUserProfile(UpdateProfileRequest)
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateProfileRequest@65563c6]
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Email đã tồn tại', success=true}]
2025-05-27 16:26:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/profile
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/profile
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/profile", parameters={}
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateCurrentUserProfile(UpdateProfileRequest)
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateProfileRequest@327e75cc]
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@4bc39828]
2025-05-27 16:26:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/password
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/password
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/password
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/password", parameters={}
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updatePassword(UpdatePasswordRequest)
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdatePasswordRequest@2a41b338]
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Mật khẩu hiện tại không đúng', success=true}]
2025-05-27 16:26:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/password
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/password
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/password", parameters={}
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updatePassword(UpdatePasswordRequest)
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdatePasswordRequest@2750be4c]
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Cập nhật mật khẩu thành công', success=true}]
2025-05-27 16:26:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/password
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/password
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/password", parameters={}
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updatePassword(UpdatePasswordRequest)
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdatePasswordRequest@4b2901b1]
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Mật khẩu hiện tại không đúng', success=true}]
2025-05-27 16:26:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/password
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/password
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/password", parameters={}
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updatePassword(UpdatePasswordRequest)
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdatePasswordRequest@21fd2527]
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:26:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:26:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:26:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:26:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Cập nhật mật khẩu thành công', success=true}]
2025-05-27 16:26:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338033515
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338033515
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338033515
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338033515", parameters={masked}
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338033526
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338033526
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338033526
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338033526", parameters={masked}
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338034746
2025-05-27 16:27:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338034750
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338034746
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338034750
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338034746
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338034746", parameters={masked}
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338034750
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338034750", parameters={masked}
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338042949
2025-05-27 16:27:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338042952
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338042949
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338042952
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338042949
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338042952
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338042952", parameters={masked}
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338042949", parameters={masked}
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 16:27:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests?page=0&size=10&sort=id,asc
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests?page=0&size=10&sort=id,asc
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests?page=0&size=10&sort=id,asc
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests?page=0&size=10&sort=id,asc", parameters={masked}
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getAllTests(int, int, String, String)
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestController.getAllTests(int,int,java.lang.String,java.lang.String); target is of class [com.hungtv.toeic.be.controllers.TestController]
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestController.getAllTests(int,int,java.lang.String,java.lang.String); target is of class [com.hungtv.toeic.be.controllers.TestController]
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    order by
        t1_0.id 
    limit
        ?, ?
2025-05-27 16:27:25 [http-nio-8080-exec-8] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResponse instances]
2025-05-27 16:27:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests?page=0&size=10&sort=id,asc
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests?page=0&size=10&sort=id,asc
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests?page=0&size=10&sort=id,asc", parameters={masked}
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getAllTests(int, int, String, String)
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestController.getAllTests(int,int,java.lang.String,java.lang.String); target is of class [com.hungtv.toeic.be.controllers.TestController]
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestController.getAllTests(int,int,java.lang.String,java.lang.String); target is of class [com.hungtv.toeic.be.controllers.TestController]
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    order by
        t1_0.id 
    limit
        ?, ?
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResponse instances]
2025-05-27 16:27:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#getAllUsers()
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.UserResponse@4a34653c, com.hungtv.toeic.be.payload.response.Us (truncated)...]
2025-05-27 16:27:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#getAllUsers()
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.UserResponse@32ab0b64, com.hungtv.toeic.be.payload.response.Us (truncated)...]
2025-05-27 16:27:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/2
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/2
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/2
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateUser(Long, UpdateUserRequest)
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateUserRequest@4e15cd44]
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@6e4a74c3]
2025-05-27 16:27:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#getAllUsers()
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.UserResponse@47caaebe, com.hungtv.toeic.be.payload.response.Us (truncated)...]
2025-05-27 16:27:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338054292
2025-05-27 16:27:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338054293
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338054293
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338054292
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338054293
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338054292
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338054293", parameters={masked}
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338054292", parameters={masked}
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 16:27:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-groups
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-groups
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-groups
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-groups", parameters={}
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getAllQuestionGroups()
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        qg1_0.test_id,
        qg1_0.title 
    from
        question_groups qg1_0
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@7b35d730, com.hungtv.toeic.be.payload.re (truncated)...]
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-groups
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-group/2
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-group/3
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-group/4
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-group/5
2025-05-27 16:27:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-group/7
2025-05-27 16:27:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-group/8
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/2
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/4
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/toeic-questions/question-group/9
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/3
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-groups
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-groups", parameters={}
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getAllQuestionGroups()
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/5
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        qg1_0.test_id,
        qg1_0.title 
    from
        question_groups qg1_0
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/7
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/4
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/4", parameters={}
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/2
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/2", parameters={}
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/3
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/3", parameters={}
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/5
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/5", parameters={}
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/7
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/7", parameters={}
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@4f6617a3]
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@5af7b13e]
2025-05-27 16:27:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/8
2025-05-27 16:27:35 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:35 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/9
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@521e84ed]
2025-05-27 16:27:35 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:35 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/8
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/8", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@26e7e780]
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@6afbfafe]
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/9
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/9", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@3642edea]
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@cef8f58]
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.QuestionGroupResponse@3d60a7bd, com.hungtv.toeic.be.payload.re (truncated)...]
2025-05-27 16:27:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/8
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/5
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/2
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/3
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/4
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/7
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/5
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/4
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/7
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/4", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/2
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/3
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/3", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/5", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/2", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/7", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/8
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/8", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@1bde1edf]
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@c1b0700]
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@4307fc2c]
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@47ce99b4]
2025-05-27 16:27:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@641c257d]
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@8594624]
2025-05-27 16:27:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/toeic-questions/question-group/9
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/toeic-questions/question-group/9
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/toeic-questions/question-group/9", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.ToeicQuestionController#getQuestionsByGroupId(Long)
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        qg1_0.id,
        qg1_0.audio_url,
        qg1_0.image_url,
        qg1_0.part,
        qg1_0.passage,
        qg1_0.question_type,
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type,
        qg1_0.title 
    from
        question_groups qg1_0 
    left join
        tests t1_0 
            on t1_0.id=qg1_0.test_id 
    where
        qg1_0.id=?
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tq1_0.id,
        tq1_0.category,
        tq1_0.correct_answer,
        tq1_0.difficulty_level,
        tq1_0.explanation,
        tq1_0.question,
        tq1_0.question_group_id,
        tq1_0.question_order 
    from
        toeic_questions tq1_0 
    left join
        question_groups qg1_0 
            on qg1_0.id=tq1_0.question_group_id 
    where
        qg1_0.id=? 
    order by
        tq1_0.question_order
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.question_id,
        o1_0.id,
        o1_0.option_key,
        o1_0.option_text 
    from
        toeic_options o1_0 
    where
        o1_0.question_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.QuestionGroupResponse@7a6f433]
2025-05-27 16:27:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#getAllUsers()
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.UserResponse@4fba66e7, com.hungtv.toeic.be.payload.response.Us (truncated)...]
2025-05-27 16:27:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#getAllUsers()
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.UserResponse@6f487180, com.hungtv.toeic.be.payload.response.Us (truncated)...]
2025-05-27 16:27:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/3
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/users/3
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/users/3
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/3", parameters={}
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#deleteUser(Long)
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.deleteUser(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.deleteUser(java.lang.Long); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Đã xóa người dùng thành công', success=true}]
2025-05-27 16:27:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/2
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/2
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateUser(Long, UpdateUserRequest)
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateUserRequest@4c3cdff0]
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@23189bb2]
2025-05-27 16:27:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#getAllUsers()
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.UserResponse@450bd5e1, com.hungtv.toeic.be.payload.response.Us (truncated)...]
2025-05-27 16:27:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@76b719e4]
2025-05-27 16:27:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@363d9b5a]
2025-05-27 16:27:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338072082
2025-05-27 16:27:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338072082
2025-05-27 16:27:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338072087
2025-05-27 16:27:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338072087
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338072082
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338072087
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338072087
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338072082
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338072082
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338072087
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338072087", parameters={masked}
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338072082
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338072082", parameters={masked}
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338072082", parameters={masked}
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338072087
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338072087", parameters={masked}
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@6ad48d6f]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@73a6b3d0]
2025-05-27 16:27:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338077700
2025-05-27 16:27:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338077701
2025-05-27 16:27:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338077704
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338077700
2025-05-27 16:27:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338077704
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338077701
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338077704
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338077704
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338077700
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338077700", parameters={masked}
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338077704
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338077704", parameters={masked}
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338077704
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338077701
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338077704", parameters={masked}
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338077701", parameters={masked}
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:27:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:27:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@782ade0d]
2025-05-27 16:27:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@494b56ac]
2025-05-27 16:27:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338081891
2025-05-27 16:28:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338081892
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338081891
2025-05-27 16:28:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338081895
2025-05-27 16:28:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338081895
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338081895
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338081895
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338081892
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338081891
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338081891", parameters={masked}
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338081895
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338081895
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338081892
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338081895", parameters={masked}
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338081892", parameters={masked}
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338081895", parameters={masked}
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@2fa23780]
2025-05-27 16:28:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@3c40ec91]
2025-05-27 16:28:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338084467
2025-05-27 16:28:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338084470
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338084467
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338084470
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338084467
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338084467", parameters={masked}
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338084470
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338084470", parameters={masked}
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:28:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:28:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@4346321d]
2025-05-27 16:28:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@21691213]
2025-05-27 16:28:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338117307
2025-05-27 16:28:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338117308
2025-05-27 16:28:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338117312
2025-05-27 16:28:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338117312
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338117308
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338117307
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338117312
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338117312
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338117312
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338117308
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338117312", parameters={masked}
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338117308", parameters={masked}
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338117307
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338117307", parameters={masked}
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338117312
2025-05-27 16:28:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338117312", parameters={masked}
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5ee5270]
2025-05-27 16:28:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@31b3cd43]
2025-05-27 16:28:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338119172
2025-05-27 16:28:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338119172
2025-05-27 16:28:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338119176
2025-05-27 16:28:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338119175
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338119175
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338119176
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338119172
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338119172
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338119176
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338119176", parameters={masked}
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338119172
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338119172", parameters={masked}
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338119175
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338119175", parameters={masked}
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338119172
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338119172", parameters={masked}
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@492f2ca0]
2025-05-27 16:28:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@51c8d0c7]
2025-05-27 16:28:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@33b9e603]
2025-05-27 16:28:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@748a6aa3]
2025-05-27 16:28:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338124784
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338124784
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338124784
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338124784", parameters={masked}
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:28:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@1546e097]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@43b89378]
2025-05-27 16:28:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#login(LoginRequest)
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{username='hung161203', password='[PROTECTED]'}]
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{id=2, username='hung161203', email='hung161203@gmail.com', fullName='Trần Văn Hưng hehe' (truncated)...]
2025-05-27 16:28:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@159b595a]
2025-05-27 16:28:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@16019265]
2025-05-27 16:28:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/2
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/2
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateUser(Long, UpdateUserRequest)
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateUserRequest@7bba7485]
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.updateUser(java.lang.Long,com.hungtv.toeic.be.payload.request.UpdateUserRequest); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@2391c4e5]
2025-05-27 16:29:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#getAllUsers()
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.UserController.getAllUsers(); target is of class [com.hungtv.toeic.be.controllers.UserController]
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.UserResponse@1ab6e8c5, com.hungtv.toeic.be.payload.response.Us (truncated)...]
2025-05-27 16:29:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338144984
2025-05-27 16:29:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338144984
2025-05-27 16:29:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338144984
2025-05-27 16:29:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338144984
2025-05-27 16:29:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:04 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338144989
2025-05-27 16:29:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338144990
2025-05-27 16:29:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338144984
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338144984
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338144984", parameters={masked}
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338144984", parameters={masked}
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338144990
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338144989
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338144990
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338144990", parameters={masked}
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338144989
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338144989", parameters={masked}
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@66a76a46]
2025-05-27 16:29:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@78ad24ba]
2025-05-27 16:29:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338146098
2025-05-27 16:29:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338146098
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338146098
2025-05-27 16:29:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338146102
2025-05-27 16:29:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338146102
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338146098
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338146102
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338146102
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338146098
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338146098", parameters={masked}
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338146098
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338146098", parameters={masked}
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338146102
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338146102
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338146102", parameters={masked}
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338146102", parameters={masked}
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@1013efb2]
2025-05-27 16:29:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@125bbe16]
2025-05-27 16:29:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338155361
2025-05-27 16:29:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338155360
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338155360
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338155364
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338155365
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338155361
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338155364
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338155365
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338155360
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338155360", parameters={masked}
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338155361
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338155361", parameters={masked}
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338155364
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338155364", parameters={masked}
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338155365
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338155365", parameters={masked}
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@1cd0a8c4]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@4cfed896]
2025-05-27 16:29:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338158405
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338158405
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338158409
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338158409
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338158405
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338158405", parameters={masked}
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338158409
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338158409", parameters={masked}
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@151b1fcd]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@635425b9]
2025-05-27 16:29:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/profile
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/profile
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/profile", parameters={}
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateCurrentUserProfile(UpdateProfileRequest)
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateProfileRequest@44f95c2d]
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@20801d8c]
2025-05-27 16:29:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/profile
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/profile
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/profile", parameters={}
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updateCurrentUserProfile(UpdateProfileRequest)
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateProfileRequest@68d69d31]
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserResponse@78e65ce7]
2025-05-27 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338188437
2025-05-27 16:29:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338188438
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338188437
2025-05-27 16:29:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338188441
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338188438
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338188442
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338188441
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338188442
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338188437
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338188437", parameters={masked}
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338188438
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338188438", parameters={masked}
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338188441
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338188441", parameters={masked}
2025-05-27 16:29:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338188442
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338188442", parameters={masked}
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:29:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@4cd440a]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@174e36e7]
2025-05-27 16:29:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:29:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-history?page=0&size=10
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-history?page=0&size=10", parameters={masked}
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyTestHistory(int, int)
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyTestHistory(int,int); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc,
        tr1_0.created_at desc 
    limit
        ?
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1 containing com.hungtv.toeic.be.payload.response.TestResultResponse instances]
2025-05-27 16:29:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@229def04]
2025-05-27 16:29:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@23c7e61f]
2025-05-27 16:29:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338536203
2025-05-27 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338536206
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338536203
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338536206
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338536216
2025-05-27 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748338536217
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338536206
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338536206", parameters={masked}
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338536203
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338536203", parameters={masked}
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338536217
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748338536216
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338536216
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748338536217
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338536216", parameters={masked}
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748338536217", parameters={masked}
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@64b6e313]
2025-05-27 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@18adade7]
2025-05-27 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@6c7c870f]
2025-05-27 16:35:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@3337009a]
2025-05-27 16:35:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@25dfbef4]
2025-05-27 16:35:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5d41e6d]
2025-05-27 16:35:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@50411bfe]
2025-05-27 16:37:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5fc3b532]
2025-05-27 16:37:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:40:45 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:40:45 [Thread-39] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:40:45 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:40:45 [Thread-39] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:40:45 [Thread-39] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-05-27 16:40:45 [Thread-39] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-05-27 16:40:45 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:40:45 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:40:45 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:40:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:40:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 9 JPA repository interfaces.
2025-05-27 16:40:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:40:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:40:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:40:46 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:40:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 416 ms
2025-05-27 16:40:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:40:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:40:46 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:40:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
2025-05-27 16:40:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a0100dc
2025-05-27 16:40:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
2025-05-27 16:40:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:40:46 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:40:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:40:46 [restartedMain] DEBUG org.hibernate.SQL - 
    create table notification_settings (
        id bigint not null auto_increment,
        created_at datetime(6) not null,
        email_notifications bit not null,
        last_email_sent datetime(6),
        last_reminder_sent datetime(6),
        study_reminder_time varchar(5),
        study_reminders bit not null,
        updated_at datetime(6),
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-05-27 16:40:46 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:40:46 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table notification_settings 
       drop index UKm9ggfvif86mvq5382j88cequn
2025-05-27 16:40:47 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table notification_settings 
       add constraint UKm9ggfvif86mvq5382j88cequn unique (user_id)
2025-05-27 16:40:47 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table notification_settings 
       add constraint FKmh6alfw96lc851ea0snhijfk 
       foreign key (user_id) 
       references users (id)
2025-05-27 16:40:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:40:47 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:40:47 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:40:47 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:40:47 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:40:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:40:47 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:40:47 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:40:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:40:47 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:40:47 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:40:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:40:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:40:47 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 2.101 seconds (process running for 2984.758)
2025-05-27 16:40:47 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:40:47 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:40:47 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:40:47 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:40:47 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:40:47 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:40:47 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:40:47 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:40:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:41:18 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:41:18 [Thread-43] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:41:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:41:18 [Thread-43] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:18 [Thread-43] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
2025-05-27 16:41:18 [Thread-43] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
2025-05-27 16:41:18 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:41:19 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:41:19 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:41:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:41:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 10 JPA repository interfaces.
2025-05-27 16:41:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:41:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:41:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:41:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:41:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 415 ms
2025-05-27 16:41:19 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:41:19 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:41:19 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:41:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Starting...
2025-05-27 16:41:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5616a2d2
2025-05-27 16:41:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Start completed.
2025-05-27 16:41:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:41:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:41:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:41:19 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:41:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:20 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:41:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:41:20 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:41:20 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:41:20 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:41:20 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:41:20 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:41:20 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:41:20 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:41:20 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:41:20 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:41:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:41:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.987 seconds (process running for 3017.907)
2025-05-27 16:41:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:41:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:41:21 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:41:37 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:41:37 [Thread-47] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:41:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:41:37 [Thread-47] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:37 [Thread-47] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown initiated...
2025-05-27 16:41:37 [Thread-47] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown completed.
2025-05-27 16:41:38 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:41:38 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:41:38 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:41:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:41:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 10 JPA repository interfaces.
2025-05-27 16:41:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:41:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:41:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:41:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:41:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 339 ms
2025-05-27 16:41:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:41:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:41:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:41:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Starting...
2025-05-27 16:41:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a972b54
2025-05-27 16:41:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Start completed.
2025-05-27 16:41:38 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:41:38 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-13)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:41:38 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:41:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:41:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:38 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:41:38 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:41:38 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:41:39 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:41:39 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:41:39 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:41:39 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:41:39 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:41:39 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:41:39 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:41:39 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:41:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:41:39 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.393 seconds (process running for 3036.392)
2025-05-27 16:41:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:41:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:41:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:39 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:41:42 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:41:42 [Thread-51] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:41:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:41:42 [Thread-51] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:42 [Thread-51] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown initiated...
2025-05-27 16:41:42 [Thread-51] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown completed.
2025-05-27 16:41:42 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:41:42 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:41:42 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:41:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:41:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 10 JPA repository interfaces.
2025-05-27 16:41:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:41:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:41:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:41:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:41:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 417 ms
2025-05-27 16:41:43 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:41:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:41:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:41:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Starting...
2025-05-27 16:41:43 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@72ff7630
2025-05-27 16:41:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Start completed.
2025-05-27 16:41:43 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:41:43 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-14)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:41:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:41:43 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:41:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:43 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:41:43 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:41:43 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:41:43 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:41:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:41:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:41:44 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:41:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:41:44 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:41:44 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:41:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:41:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:41:44 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.657 seconds (process running for 3041.201)
2025-05-27 16:41:44 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:44 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:44 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:41:44 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:44 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:44 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:44 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:44 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:41:44 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:41:51 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:41:51 [Thread-55] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:41:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:41:51 [Thread-55] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:51 [Thread-55] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown initiated...
2025-05-27 16:41:51 [Thread-55] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown completed.
2025-05-27 16:41:51 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:41:51 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:41:51 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:41:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:41:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 10 JPA repository interfaces.
2025-05-27 16:41:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:41:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:41:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:41:52 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:41:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 620 ms
2025-05-27 16:41:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:41:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:41:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:41:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Starting...
2025-05-27 16:41:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6770a921
2025-05-27 16:41:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Start completed.
2025-05-27 16:41:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:41:52 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-15)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:41:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:41:52 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:41:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:41:53 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:41:53 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:41:53 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:41:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:41:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:41:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:41:53 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:41:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:41:53 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:41:53 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:41:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:41:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:41:54 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 2.664 seconds (process running for 3051.155)
2025-05-27 16:41:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:41:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:41:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:41:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:41:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:41:54 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:42:29 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:42:29 [Thread-59] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:42:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:42:29 [Thread-59] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:42:29 [Thread-59] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown initiated...
2025-05-27 16:42:29 [Thread-59] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown completed.
2025-05-27 16:42:29 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:42:29 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:42:29 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:42:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:42:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 10 JPA repository interfaces.
2025-05-27 16:42:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:42:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:42:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:42:29 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:42:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 240 ms
2025-05-27 16:42:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:42:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:42:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:42:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Starting...
2025-05-27 16:42:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69066813
2025-05-27 16:42:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Start completed.
2025-05-27 16:42:29 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:42:29 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-16)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:42:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:42:29 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:42:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:42:29 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:42:30 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:42:30 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:42:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:42:30 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:42:30 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:42:30 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:42:30 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:42:30 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:42:30 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:42:30 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:42:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:42:30 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.382 seconds (process running for 3087.575)
2025-05-27 16:42:30 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:42:30 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:42:30 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:42:30 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:42:30 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:42:30 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:42:30 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:42:30 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:42:30 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:43:53 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:43:53 [Thread-63] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:43:53 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:43:53 [Thread-63] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:43:53 [Thread-63] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown initiated...
2025-05-27 16:43:53 [Thread-63] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown completed.
2025-05-27 16:43:53 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:43:53 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:43:53 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:43:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:43:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 10 JPA repository interfaces.
2025-05-27 16:43:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:43:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:43:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:43:53 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:43:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 182 ms
2025-05-27 16:43:53 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:43:53 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:43:53 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:43:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Starting...
2025-05-27 16:43:53 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@88681ec
2025-05-27 16:43:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Start completed.
2025-05-27 16:43:53 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:43:53 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-17)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:43:54 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:43:54 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:43:54 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:43:54 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:43:54 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:43:54 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:43:54 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:43:54 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:43:54 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:43:54 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:43:54 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:43:54 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:43:54 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:43:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:43:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:43:54 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.159 seconds (process running for 3171.862)
2025-05-27 16:43:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:43:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:43:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:43:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:43:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:43:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:43:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:43:54 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:43:54 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:44:03 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:44:03 [Thread-67] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:44:03 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:44:03 [Thread-67] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:03 [Thread-67] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown initiated...
2025-05-27 16:44:03 [Thread-67] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown completed.
2025-05-27 16:44:03 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:44:03 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:44:03 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:44:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:44:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 10 JPA repository interfaces.
2025-05-27 16:44:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:44:04 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:44:04 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:44:04 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:44:04 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 207 ms
2025-05-27 16:44:04 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:44:04 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:44:04 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:44:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Starting...
2025-05-27 16:44:04 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75ea66df
2025-05-27 16:44:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Start completed.
2025-05-27 16:44:04 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:44:04 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-18)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:44:04 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:44:04 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:44:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:04 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:44:04 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:44:04 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:44:04 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:44:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:44:04 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:44:05 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:44:05 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:44:05 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:44:05 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:44:05 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:44:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:44:05 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.18 seconds (process running for 3182.106)
2025-05-27 16:44:05 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:44:05 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:05 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:05 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:05 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:05 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:44:05 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:05 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:05 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:44:09 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:44:09 [Thread-71] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:44:09 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:44:09 [Thread-71] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:09 [Thread-71] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown initiated...
2025-05-27 16:44:09 [Thread-71] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown completed.
2025-05-27 16:44:09 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:44:09 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:44:09 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 10 JPA repository interfaces.
2025-05-27 16:44:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:44:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:44:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:44:09 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:44:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 166 ms
2025-05-27 16:44:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:44:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:44:09 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:44:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Starting...
2025-05-27 16:44:09 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54ba58d0
2025-05-27 16:44:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Start completed.
2025-05-27 16:44:09 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:44:09 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-19)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:44:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:44:09 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:44:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:09 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:44:09 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:44:09 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:44:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:44:10 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:44:10 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:44:10 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:44:10 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:44:10 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:44:10 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:44:10 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:44:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:44:10 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.08 seconds (process running for 3187.259)
2025-05-27 16:44:10 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:44:10 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:10 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:10 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:10 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:10 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:44:10 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:10 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:10 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:44:19 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:44:19 [Thread-75] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:44:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:44:19 [Thread-75] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:19 [Thread-75] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown initiated...
2025-05-27 16:44:19 [Thread-75] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown completed.
2025-05-27 16:44:19 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:44:19 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:44:19 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:44:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:44:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 10 JPA repository interfaces.
2025-05-27 16:44:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:44:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:44:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:44:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:44:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 322 ms
2025-05-27 16:44:19 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:44:19 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:44:19 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:44:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Starting...
2025-05-27 16:44:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b951c16
2025-05-27 16:44:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Start completed.
2025-05-27 16:44:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:44:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-20)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:44:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:44:20 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:44:20 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:20 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:44:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:44:20 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:44:20 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:44:20 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:44:20 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:44:20 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:44:20 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:44:20 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:44:20 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:44:20 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:44:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:44:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.364 seconds (process running for 3197.753)
2025-05-27 16:44:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:44:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:20 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:20 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:44:20 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:44:43 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-05-27 16:44:43 [Thread-79] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:44:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:44:43 [Thread-79] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:43 [Thread-79] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
2025-05-27 16:44:43 [Thread-79] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
2025-05-27 16:44:43 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:44:43 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:44:43 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:44:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:44:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 10 JPA repository interfaces.
2025-05-27 16:44:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:44:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:44:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:44:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:44:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 258 ms
2025-05-27 16:44:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:44:44 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:44:44 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:44:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Starting...
2025-05-27 16:44:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@50979c57
2025-05-27 16:44:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Start completed.
2025-05-27 16:44:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:44:44 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-21)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:44:44 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:44:44 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:44:44 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:44:44 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:44:44 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:44:44 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:44:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:44:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:44:45 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:44:45 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:44:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:44:45 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:44:45 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:44:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:44:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:44:45 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.523 seconds (process running for 3222.416)
2025-05-27 16:44:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:44:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:44:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:44:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:44:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:44:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:45:16 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-27 16:45:16 [Thread-83] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:45:16 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:45:16 [Thread-83] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:45:16 [Thread-83] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown initiated...
2025-05-27 16:45:16 [Thread-83] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown completed.
2025-05-27 16:45:16 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:45:16 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:45:16 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:45:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:45:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 10 JPA repository interfaces.
2025-05-27 16:45:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:45:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:45:16 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:45:16 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:45:16 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 262 ms
2025-05-27 16:45:16 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:45:16 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:45:16 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:45:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Starting...
2025-05-27 16:45:16 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-22 - Added connection com.mysql.cj.jdbc.ConnectionImpl@296427d9
2025-05-27 16:45:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Start completed.
2025-05-27 16:45:16 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:45:16 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-22)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:45:17 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:45:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:45:17 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:45:17 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:45:17 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:45:17 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:45:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:45:17 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:45:17 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:45:17 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:45:17 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:45:17 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:45:17 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:45:17 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:45:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:45:17 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.318 seconds (process running for 3254.81)
2025-05-27 16:45:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:45:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:45:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:45:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:45:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:45:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:45:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:45:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:45:17 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:45:40 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-05-27 16:45:40 [Thread-87] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:45:40 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:45:40 [Thread-87] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:45:40 [Thread-87] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown initiated...
2025-05-27 16:45:40 [Thread-87] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown completed.
2025-05-27 16:45:41 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:45:41 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:45:41 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:45:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:45:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 10 JPA repository interfaces.
2025-05-27 16:45:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:45:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:45:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:45:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:45:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 271 ms
2025-05-27 16:45:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:45:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:45:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:45:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Starting...
2025-05-27 16:45:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-23 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d317d7a
2025-05-27 16:45:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Start completed.
2025-05-27 16:45:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:45:41 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-23)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:45:41 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:45:41 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:45:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:45:41 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:45:41 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:45:41 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:45:42 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:45:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:45:42 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:45:42 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:45:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:45:42 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:45:42 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:45:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:45:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:45:42 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.574 seconds (process running for 3279.511)
2025-05-27 16:45:42 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:45:42 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:45:42 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:45:42 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:45:42 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:45:42 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:45:42 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:45:42 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:45:42 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:46:15 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-05-27 16:46:15 [Thread-91] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:46:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:46:15 [Thread-91] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:46:15 [Thread-91] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Shutdown initiated...
2025-05-27 16:46:15 [Thread-91] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Shutdown completed.
2025-05-27 16:46:15 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:46:15 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:46:15 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:46:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:46:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 10 JPA repository interfaces.
2025-05-27 16:46:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:46:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:46:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:46:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:46:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 173 ms
2025-05-27 16:46:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:46:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:46:15 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:46:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Starting...
2025-05-27 16:46:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-24 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30b9a3a9
2025-05-27 16:46:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Start completed.
2025-05-27 16:46:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:46:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-24)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:46:15 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:46:15 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:46:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:46:16 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:46:16 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:46:16 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:46:16 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:46:16 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:46:16 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:46:16 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:46:16 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:46:16 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:46:16 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:46:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:46:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:46:16 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.88 seconds (process running for 3313.477)
2025-05-27 16:46:16 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:46:16 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:46:16 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:46:16 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:46:16 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:46:16 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:46:16 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:46:16 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:46:16 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:46:23 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:46:23 [Thread-95] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:46:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:46:23 [Thread-95] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:46:23 [Thread-95] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown initiated...
2025-05-27 16:46:23 [Thread-95] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown completed.
2025-05-27 16:46:23 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:46:23 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:46:23 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:46:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:46:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 16:46:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:46:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:46:23 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:46:23 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:46:23 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 156 ms
2025-05-27 16:46:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:46:23 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:46:23 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:46:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Starting...
2025-05-27 16:46:23 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-25 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5963e42a
2025-05-27 16:46:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Start completed.
2025-05-27 16:46:23 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:46:23 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-25)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:46:23 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:46:23 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:46:24 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:46:24 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:46:24 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:46:24 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:46:24 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:46:24 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:46:24 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:46:24 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:46:24 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:46:24 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:46:24 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:46:24 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:46:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:46:24 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.903 seconds (process running for 3321.444)
2025-05-27 16:46:24 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:46:24 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:46:24 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:46:24 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:46:24 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:46:24 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:46:24 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:46:24 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:46:24 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:47:05 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:47:05 [Thread-99] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:47:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:47:05 [Thread-99] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:47:05 [Thread-99] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Shutdown initiated...
2025-05-27 16:47:05 [Thread-99] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Shutdown completed.
2025-05-27 16:47:05 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:47:05 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:47:05 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:47:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:47:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 10 JPA repository interfaces.
2025-05-27 16:47:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:47:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:47:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:47:06 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:47:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 353 ms
2025-05-27 16:47:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:47:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:47:06 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:47:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Starting...
2025-05-27 16:47:06 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-26 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36238a0e
2025-05-27 16:47:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Start completed.
2025-05-27 16:47:06 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:47:06 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-26)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:47:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:47:06 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:47:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:47:06 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:47:06 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:47:06 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:47:06 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:47:07 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:47:07 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:47:07 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:47:07 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:47:07 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:47:07 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:47:07 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:47:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:47:07 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.547 seconds (process running for 3364.129)
2025-05-27 16:47:07 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:47:07 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:47:07 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:47:07 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:47:07 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:47:07 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:47:07 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:47:07 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:47:07 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:47:32 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:47:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b751170
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@526ef9ea
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 16:47:32 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 9 ms
2025-05-27 16:47:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/notifications/settings
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/notifications/settings
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        notification_settings
        (created_at, email_notifications, last_email_sent, last_reminder_sent, study_reminder_time, study_reminders, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@774252b6]
2025-05-27 16:47:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@7a6dcb82]
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@35008fce]
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@6077a1dc]
2025-05-27 16:47:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/my-statistics
2025-05-27 16:47:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/test-results/my-statistics
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@197612f5]
2025-05-27 16:47:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5415e97a]
2025-05-27 16:47:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/password
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/users/password
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/users/password
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/password", parameters={}
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.UserController#updatePassword(UpdatePasswordRequest)
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdatePasswordRequest@4efdd0cd]
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        active=?,
        email=?,
        full_name=?,
        password=?,
        token_expiry_date=?,
        updated_at=?,
        username=?,
        verification_token=? 
    where
        id=?
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse{message='Cập nhật mật khẩu thành công', success=true}]
2025-05-27 16:47:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/notifications/settings
2025-05-27 16:47:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/notifications/settings
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        notification_settings
        (created_at, email_notifications, last_email_sent, last_reminder_sent, study_reminder_time, study_reminders, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@640485]
2025-05-27 16:47:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@5de8061a]
2025-05-27 16:47:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@4fd3e676]
2025-05-27 16:47:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@66899da2]
2025-05-27 16:47:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@68fb0a00]
2025-05-27 16:47:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@365c61be]
2025-05-27 16:47:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:48:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/notifications/settings
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/notifications/settings
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/notifications/settings
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/notifications/settings", parameters={}
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#updateNotificationSettings(UpdateNotificationSettingRequest)
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateNotificationSettingRequest@c475d7c]
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@7bb98556]
2025-05-27 16:48:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@3b77a1db]
2025-05-27 16:48:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@77ae915]
2025-05-27 16:48:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@6fb736ff]
2025-05-27 16:48:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/notifications/settings
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/notifications/settings
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/notifications/settings", parameters={}
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#updateNotificationSettings(UpdateNotificationSettingRequest)
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateNotificationSettingRequest@3eb86628]
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@1affbf82]
2025-05-27 16:50:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/notifications/settings
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/notifications/settings
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/notifications/settings", parameters={}
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#updateNotificationSettings(UpdateNotificationSettingRequest)
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateNotificationSettingRequest@47b3956c]
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@2870620e]
2025-05-27 16:50:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/notifications/settings
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/notifications/settings
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/notifications/settings", parameters={}
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#updateNotificationSettings(UpdateNotificationSettingRequest)
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateNotificationSettingRequest@1d7f03]
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@5059bea6]
2025-05-27 16:52:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748339524115
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748339524115
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748339524115
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748339524115", parameters={masked}
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='admin', authenticated=true, role='ROLE_ADMIN'}]
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:52:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@5b488cb]
2025-05-27 16:52:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@2e4b8413]
2025-05-27 16:52:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: admin
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: admin
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: admin
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#login(LoginRequest)
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{username='hung161203', password='[PROTECTED]'}]
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{id=2, username='hung161203', email='hung161203@gmail.com', fullName='Trần Văn Hưng', rol (truncated)...]
2025-05-27 16:52:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@7eda8d61]
2025-05-27 16:52:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/test-results/my-statistics
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/test-results/my-statistics
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/test-results/my-statistics", parameters={}
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestResultController#getMyStatistics()
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.hungtv.toeic.be.controllers.TestResultController.getMyStatistics(); target is of class [com.hungtv.toeic.be.controllers.TestResultController]
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        avg(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        max(tr1_0.total_score) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.id=?
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tr1_0.id,
        tr1_0.completion_time_in_minutes,
        tr1_0.correct_answers,
        tr1_0.created_at,
        tr1_0.grammar_score,
        tr1_0.listening_scaled_score,
        tr1_0.listening_score,
        tr1_0.reading_scaled_score,
        tr1_0.reading_score,
        tr1_0.test_id,
        tr1_0.total_questions,
        tr1_0.total_score,
        tr1_0.user_id,
        tr1_0.vocabulary_score 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at between ? and ? 
    order by
        tr1_0.created_at desc
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.UserStatisticsResponse@482195ad]
2025-05-27 16:52:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@a310d09]
2025-05-27 16:52:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@137a9205]
2025-05-27 16:52:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/notifications/settings
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/notifications/settings
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/notifications/settings", parameters={}
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#updateNotificationSettings(UpdateNotificationSettingRequest)
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateNotificationSettingRequest@319e369a]
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@296f04e9]
2025-05-27 16:52:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@59828a96]
2025-05-27 16:52:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@731e87aa]
2025-05-27 16:52:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@66384dea]
2025-05-27 16:52:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/settings
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/settings
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/settings", parameters={}
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#getNotificationSettings()
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@235533da]
2025-05-27 16:52:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:53:55 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:53:55 [Thread-103] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:53:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:53:55 [Thread-103] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:53:55 [Thread-103] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Shutdown initiated...
2025-05-27 16:53:55 [Thread-103] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Shutdown completed.
2025-05-27 16:53:55 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:53:55 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:53:55 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:53:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 10 JPA repository interfaces.
2025-05-27 16:53:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:53:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:53:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:53:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:53:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 154 ms
2025-05-27 16:53:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:53:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:53:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:53:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Starting...
2025-05-27 16:53:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-27 - Added connection com.mysql.cj.jdbc.ConnectionImpl@d99a564
2025-05-27 16:53:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Start completed.
2025-05-27 16:53:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:53:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-27)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:53:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:53:55 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:53:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:53:55 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:53:55 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:53:55 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:53:56 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:53:56 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:53:56 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:53:56 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:53:56 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:53:56 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:53:56 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:53:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:53:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:53:56 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.756 seconds (process running for 3773.202)
2025-05-27 16:53:56 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:53:56 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:53:56 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:53:56 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:53:56 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:53:56 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:53:56 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:53:56 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:53:56 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:53:59 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:53:59 [Thread-107] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:53:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:53:59 [Thread-107] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:53:59 [Thread-107] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Shutdown initiated...
2025-05-27 16:53:59 [Thread-107] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Shutdown completed.
2025-05-27 16:53:59 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:53:59 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:53:59 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:53:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:53:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 10 JPA repository interfaces.
2025-05-27 16:53:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:53:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:53:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:53:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:53:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 207 ms
2025-05-27 16:53:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:53:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:53:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:53:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Starting...
2025-05-27 16:53:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-28 - Added connection com.mysql.cj.jdbc.ConnectionImpl@63ae9760
2025-05-27 16:53:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Start completed.
2025-05-27 16:53:59 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:53:59 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-28)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:53:59 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:53:59 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:53:59 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:53:59 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:54:00 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:54:00 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:54:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:54:00 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:54:00 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:54:00 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:54:00 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:54:00 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:54:00 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:54:00 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:54:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:54:00 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.025 seconds (process running for 3777.38)
2025-05-27 16:54:00 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:54:00 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:54:00 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:54:00 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:54:00 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:54:00 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:54:00 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:54:00 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:54:00 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:54:03 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:54:03 [Thread-111] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:54:03 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:54:03 [Thread-111] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:54:03 [Thread-111] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Shutdown initiated...
2025-05-27 16:54:03 [Thread-111] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Shutdown completed.
2025-05-27 16:54:03 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:54:03 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:54:03 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:54:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:54:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 10 JPA repository interfaces.
2025-05-27 16:54:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:54:03 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:54:03 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:54:03 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:54:03 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 231 ms
2025-05-27 16:54:03 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:54:03 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:54:03 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:54:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Starting...
2025-05-27 16:54:03 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-29 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a3cf725
2025-05-27 16:54:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Start completed.
2025-05-27 16:54:03 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:54:03 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-29)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:54:03 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:54:03 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:54:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:54:04 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:54:04 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:54:04 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:54:04 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:54:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:54:04 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:54:04 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:54:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:54:04 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:54:04 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:54:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:54:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:54:04 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 1.12 seconds (process running for 3781.568)
2025-05-27 16:54:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:54:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:54:04 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:54:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:54:04 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:54:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:54:04 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:54:04 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:54:04 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:54:07 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:54:07 [Thread-115] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:54:07 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:54:07 [Thread-115] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:54:07 [Thread-115] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Shutdown initiated...
2025-05-27 16:54:07 [Thread-115] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Shutdown completed.
2025-05-27 16:54:07 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:54:07 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:54:07 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:54:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:54:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 16:54:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:54:07 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:54:07 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:54:07 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:54:07 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 147 ms
2025-05-27 16:54:07 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:54:07 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:54:07 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:54:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Starting...
2025-05-27 16:54:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-30 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65b9dadd
2025-05-27 16:54:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Start completed.
2025-05-27 16:54:07 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:54:07 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-30)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:54:07 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:54:07 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:54:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:54:08 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:54:08 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:54:08 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:54:08 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:54:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:54:08 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:54:08 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:54:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:54:08 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:54:08 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:54:08 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:54:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:54:08 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.673 seconds (process running for 3785.315)
2025-05-27 16:54:08 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:54:08 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:54:08 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:54:08 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:54:08 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:54:08 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:54:08 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:54:08 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:54:08 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:55:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi email thông báo hoạt động tài khoản hàng tuần
2025-05-27 16:55:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.email_notifications=1 
        and (
            ns1_0.last_email_sent is null 
            or ns1_0.last_email_sent<?
        )
2025-05-27 16:55:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 16:55:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 16:55:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at>?
2025-05-27 16:55:03 [scheduling-1] INFO  c.h.toeic.be.services.EmailService - Email đã được gửi đến: hung161203@gmail.com
2025-05-27 16:55:03 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Đã gửi email thông báo hoạt động hàng tuần cho người dùng: hung161203
2025-05-27 16:55:03 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        count(tr1_0.id) 
    from
        test_results tr1_0 
    where
        tr1_0.user_id=? 
        and tr1_0.created_at>?
2025-05-27 16:55:07 [scheduling-1] INFO  c.h.toeic.be.services.EmailService - Email đã được gửi đến: admin@toeic-app.com
2025-05-27 16:55:07 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Đã gửi email thông báo hoạt động hàng tuần cho người dùng: admin
2025-05-27 16:55:07 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi email thông báo hoạt động hàng tuần
2025-05-27 16:55:07 [scheduling-1] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 16:55:07 [scheduling-1] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 16:55:27 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:55:27 [Thread-119] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:55:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:55:27 [Thread-119] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:55:27 [Thread-119] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Shutdown initiated...
2025-05-27 16:55:27 [Thread-119] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Shutdown completed.
2025-05-27 16:55:27 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:55:27 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:55:27 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:55:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:55:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 10 JPA repository interfaces.
2025-05-27 16:55:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:55:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:55:27 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:55:27 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:55:27 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 183 ms
2025-05-27 16:55:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:55:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:55:27 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:55:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Starting...
2025-05-27 16:55:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-31 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4557dc3a
2025-05-27 16:55:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Start completed.
2025-05-27 16:55:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:55:27 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-31)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:55:27 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:55:27 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:55:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:55:27 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:55:27 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:55:27 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:55:28 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationController': Unsatisfied dependency expressed through field 'notificationService': Error creating bean with name 'notificationService' defined in file [/home/hwngtv/datn/be/target/classes/com/hungtv/toeic/be/services/NotificationService.class]: Encountered invalid @Scheduled method 'sendWeeklyActivityEmails': Cron expression must consist of 6 fields (found 5 in "0  16 * * TUE")
2025-05-27 16:55:28 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:55:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Shutdown initiated...
2025-05-27 16:55:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Shutdown completed.
2025-05-27 16:55:28 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-27 16:55:28 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-27 16:55:28 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationController': Unsatisfied dependency expressed through field 'notificationService': Error creating bean with name 'notificationService' defined in file [/home/hwngtv/datn/be/target/classes/com/hungtv/toeic/be/services/NotificationService.class]: Encountered invalid @Scheduled method 'sendWeeklyActivityEmails': Cron expression must consist of 6 fields (found 5 in "0  16 * * TUE")
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at com.hungtv.toeic.be.BeApplication.main(BeApplication.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'notificationService' defined in file [/home/hwngtv/datn/be/target/classes/com/hungtv/toeic/be/services/NotificationService.class]: Encountered invalid @Scheduled method 'sendWeeklyActivityEmails': Cron expression must consist of 6 fields (found 5 in "0  16 * * TUE")
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 25 common frames omitted
Caused by: java.lang.IllegalStateException: Encountered invalid @Scheduled method 'sendWeeklyActivityEmails': Cron expression must consist of 6 fields (found 5 in "0  16 * * TUE")
	at org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.processScheduledTask(ScheduledAnnotationBeanPostProcessor.java:525) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.processScheduledSync(ScheduledAnnotationBeanPostProcessor.java:364) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.processScheduled(ScheduledAnnotationBeanPostProcessor.java:343) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$1(ScheduledAnnotationBeanPostProcessor.java:308) ~[spring-context-6.2.5.jar:6.2.5]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$2(ScheduledAnnotationBeanPostProcessor.java:308) ~[spring-context-6.2.5.jar:6.2.5]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986) ~[na:na]
	at org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.postProcessAfterInitialization(ScheduledAnnotationBeanPostProcessor.java:307) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:439) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1815) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	... 33 common frames omitted
2025-05-27 16:55:33 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:55:33 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:55:33 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:55:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:55:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 10 JPA repository interfaces.
2025-05-27 16:55:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:55:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:55:33 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:55:33 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:55:33 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 150 ms
2025-05-27 16:55:33 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:55:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:55:33 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:55:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Starting...
2025-05-27 16:55:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-32 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45d1fdb3
2025-05-27 16:55:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Start completed.
2025-05-27 16:55:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:55:33 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-32)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:55:33 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:55:33 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:55:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:55:33 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:55:33 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:55:33 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:55:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:55:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:55:33 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:55:33 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:55:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:55:33 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:55:33 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:55:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:55:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:55:33 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.623 seconds (process running for 3870.673)
2025-05-27 16:55:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:55:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:55:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:55:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:55:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:55:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:55:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:55:33 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:55:33 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:57:29 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 16:57:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@692d0ff8
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@282d285
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 16:57:29 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/notifications/settings
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/notifications/settings
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/notifications/settings", parameters={}
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#updateNotificationSettings(UpdateNotificationSettingRequest)
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateNotificationSettingRequest@4cd32459]
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@7dbddbbd]
2025-05-27 16:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 16:58:20 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 16:58:20 [Thread-123] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 16:58:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 16:58:20 [Thread-123] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:58:20 [Thread-123] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Shutdown initiated...
2025-05-27 16:58:20 [Thread-123] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Shutdown completed.
2025-05-27 16:58:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 16:58:20 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 16:58:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 16:58:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 16:58:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 10 JPA repository interfaces.
2025-05-27 16:58:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 16:58:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 16:58:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 16:58:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 16:58:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 133 ms
2025-05-27 16:58:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 16:58:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 16:58:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 16:58:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Starting...
2025-05-27 16:58:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-33 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e5e019
2025-05-27 16:58:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Start completed.
2025-05-27 16:58:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 16:58:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-33)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 16:58:21 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 16:58:21 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 16:58:21 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 16:58:21 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 16:58:21 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 16:58:21 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 16:58:21 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 16:58:21 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 16:58:21 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 16:58:21 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 16:58:21 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 16:58:21 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 16:58:21 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 16:58:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 16:58:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 16:58:21 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.609 seconds (process running for 4038.446)
2025-05-27 16:58:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:58:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:58:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 16:58:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 16:58:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:58:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 16:58:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 16:58:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 16:58:21 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 16:59:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 16:00
2025-05-27 16:59:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 16:59:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 16:00
2025-05-27 17:00:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:00
2025-05-27 17:00:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:00:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 17:00:03 [scheduling-1] INFO  c.h.toeic.be.services.EmailService - Email đã được gửi đến: hung161203@gmail.com
2025-05-27 17:00:03 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Đã gửi nhắc nhở học tập cho người dùng: hung161203
2025-05-27 17:00:03 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:00
2025-05-27 17:00:03 [scheduling-1] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 17:00:18 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 17:00:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 17:00:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 17:00:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 17:00:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 17:00:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@51ba801d
2025-05-27 17:00:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@75c0b031
2025-05-27 17:00:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 17:00:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-27 17:00:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748340018626
2025-05-27 17:00:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748340018632
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748340018626
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748340018632
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748340018626
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748340018626", parameters={masked}
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 17:00:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748340018632
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748340018632", parameters={masked}
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 17:00:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 17:00:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748340028311
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748340028311
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 17:00:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me?_=1748340028316
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me?_=1748340028316
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748340028311
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748340028311", parameters={masked}
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:00:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me?_=1748340028316
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me?_=1748340028316", parameters={masked}
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.AuthController#getCurrentUser()
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserStatusResponse{username='hung161203', authenticated=true, role='ROLE_USER'}]
2025-05-27 17:00:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 17:00:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/active
2025-05-27 17:00:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/tests/active
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 17:00:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 17:00:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 17:00:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 17:00:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@3a4397e2, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 17:00:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/tests/active
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/tests/active
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/tests/active", parameters={}
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.TestController#getActiveTests()
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.description,
        t1_0.duration,
        t1_0.instructions,
        t1_0.is_active,
        t1_0.title,
        t1_0.type 
    from
        tests t1_0 
    where
        t1_0.is_active
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[com.hungtv.toeic.be.payload.response.TestResponse@2de87b2f, com.hungtv.toeic.be.payload.response.Te (truncated)...]
2025-05-27 17:00:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 17:01:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:00
2025-05-27 17:01:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:01:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:00
2025-05-27 17:01:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:01:08 [Thread-130] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:01:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:01:08 [Thread-130] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:01:08 [Thread-130] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Shutdown initiated...
2025-05-27 17:01:08 [Thread-130] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Shutdown completed.
2025-05-27 17:01:08 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:01:08 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:01:08 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 17:01:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:01:08 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:01:08 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:01:08 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:01:08 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 143 ms
2025-05-27 17:01:08 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:01:08 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:01:08 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:01:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Starting...
2025-05-27 17:01:08 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-34 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c6d8bcd
2025-05-27 17:01:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Start completed.
2025-05-27 17:01:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:01:08 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-34)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:01:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:01:08 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:01:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:01:09 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:01:09 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:01:09 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:01:09 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:01:09 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:01:09 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:01:09 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:01:09 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:01:09 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:01:09 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:01:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:01:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:01:09 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.716 seconds (process running for 4206.336)
2025-05-27 17:01:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:01:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:01:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:01:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:01:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:01:09 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:01:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:01:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:01:09 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:01:12 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:01:12 [Thread-134] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:01:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:01:12 [Thread-134] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:01:12 [Thread-134] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Shutdown initiated...
2025-05-27 17:01:12 [Thread-134] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Shutdown completed.
2025-05-27 17:01:12 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:01:12 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:01:12 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:01:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:01:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 17:01:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:01:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:01:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:01:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:01:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 133 ms
2025-05-27 17:01:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:01:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:01:12 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:01:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Starting...
2025-05-27 17:01:12 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-35 - Added connection com.mysql.cj.jdbc.ConnectionImpl@344d4d23
2025-05-27 17:01:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Start completed.
2025-05-27 17:01:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:01:12 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-35)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:01:12 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:01:12 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:01:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:01:12 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:01:12 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:01:12 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:01:13 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:01:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:01:13 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:01:13 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:01:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:01:13 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:01:13 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:01:13 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:01:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:01:13 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.666 seconds (process running for 4210.067)
2025-05-27 17:01:13 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:01:13 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:01:13 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:01:13 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:01:13 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:01:13 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:01:13 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:01:13 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:01:13 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:01:36 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:01:36 [Thread-138] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:01:36 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:01:36 [Thread-138] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:01:36 [Thread-138] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Shutdown initiated...
2025-05-27 17:01:36 [Thread-138] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Shutdown completed.
2025-05-27 17:01:36 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:01:36 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:01:36 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:01:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:01:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 17:01:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:01:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:01:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:01:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:01:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 132 ms
2025-05-27 17:01:36 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:01:36 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:01:36 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:01:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Starting...
2025-05-27 17:01:36 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-36 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13db69c2
2025-05-27 17:01:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Start completed.
2025-05-27 17:01:36 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:01:36 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-36)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:01:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:01:36 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:01:36 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:01:36 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:01:36 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:01:36 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:01:36 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:01:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:01:36 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:01:36 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:01:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:01:36 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:01:36 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:01:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:01:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:01:36 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.678 seconds (process running for 4233.83)
2025-05-27 17:01:36 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:01:36 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:01:36 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:01:36 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:01:36 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:01:36 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:01:36 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:01:36 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:01:36 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:02:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:02
2025-05-27 17:02:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:02:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:02
2025-05-27 17:02:25 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:02:25 [Thread-142] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:02:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:02:25 [Thread-142] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:02:25 [Thread-142] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Shutdown initiated...
2025-05-27 17:02:25 [Thread-142] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Shutdown completed.
2025-05-27 17:02:25 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:02:25 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:02:25 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:02:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:02:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 10 JPA repository interfaces.
2025-05-27 17:02:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:02:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:02:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:02:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:02:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 138 ms
2025-05-27 17:02:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:02:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:02:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:02:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Starting...
2025-05-27 17:02:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-37 - Added connection com.mysql.cj.jdbc.ConnectionImpl@623dbc34
2025-05-27 17:02:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Start completed.
2025-05-27 17:02:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:02:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-37)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:02:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:02:26 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:02:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:02:26 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:02:26 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:02:26 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:02:26 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:02:26 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:02:26 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:02:26 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:02:26 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:02:26 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:02:26 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:02:26 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:02:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:02:26 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.646 seconds (process running for 4283.573)
2025-05-27 17:02:26 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:02:26 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:02:26 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:02:26 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:02:26 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:02:26 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:02:26 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:02:26 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:02:26 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:03:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:00
2025-05-27 17:03:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:03:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:00
2025-05-27 17:03:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:03:57 [Thread-146] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:03:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:03:57 [Thread-146] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:03:57 [Thread-146] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Shutdown initiated...
2025-05-27 17:03:57 [Thread-146] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Shutdown completed.
2025-05-27 17:03:57 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:03:57 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:03:57 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:03:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:03:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 17:03:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:03:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:03:57 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:03:57 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:03:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 144 ms
2025-05-27 17:03:57 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:03:57 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:03:57 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:03:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Starting...
2025-05-27 17:03:57 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-38 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e23cd69
2025-05-27 17:03:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Start completed.
2025-05-27 17:03:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:03:57 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-38)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:03:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:03:58 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:03:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:03:58 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:03:58 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:03:58 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:03:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:03:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:03:58 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:03:58 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:03:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:03:58 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:03:58 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:03:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:03:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:03:58 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.731 seconds (process running for 4375.427)
2025-05-27 17:03:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:03:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:03:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:03:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:03:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:03:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:03:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:03:58 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:03:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:04:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:04
2025-05-27 17:04:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:04:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:04
2025-05-27 17:04:01 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:04:01 [Thread-150] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:04:01 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:04:01 [Thread-150] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:04:01 [Thread-150] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Shutdown initiated...
2025-05-27 17:04:01 [Thread-150] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Shutdown completed.
2025-05-27 17:04:01 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:04:01 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:04:01 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:04:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:04:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 17:04:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:04:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:04:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:04:01 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:04:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 156 ms
2025-05-27 17:04:01 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:04:01 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:04:01 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:04:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Starting...
2025-05-27 17:04:01 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-39 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7cf563f4
2025-05-27 17:04:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Start completed.
2025-05-27 17:04:01 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:04:01 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-39)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:04:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:04:01 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:04:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:04:01 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:04:02 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:04:02 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:04:02 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:04:02 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:04:02 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:04:02 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:04:02 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:04:02 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:04:02 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:04:02 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:04:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:04:02 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.71 seconds (process running for 4379.208)
2025-05-27 17:04:02 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:04:02 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:04:02 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:04:02 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:04:02 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:04:02 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:04:02 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:04:02 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:04:02 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:04:13 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:04:13 [Thread-154] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:04:13 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:04:13 [Thread-154] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:04:13 [Thread-154] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Shutdown initiated...
2025-05-27 17:04:13 [Thread-154] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Shutdown completed.
2025-05-27 17:04:13 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:04:13 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:04:13 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 17:04:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:04:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:04:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:04:13 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:04:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 135 ms
2025-05-27 17:04:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:04:13 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:04:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:04:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Starting...
2025-05-27 17:04:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-40 - Added connection com.mysql.cj.jdbc.ConnectionImpl@766ea397
2025-05-27 17:04:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Start completed.
2025-05-27 17:04:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:04:13 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-40)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:04:13 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:04:13 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:04:13 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:04:13 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:04:13 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:04:13 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:04:13 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:04:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:04:14 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:04:14 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:04:14 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:04:14 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:04:14 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:04:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:04:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:04:14 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.754 seconds (process running for 4391.038)
2025-05-27 17:04:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:04:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:04:14 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:04:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:04:14 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:04:14 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:04:14 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:04:14 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:04:14 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:05:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:05
2025-05-27 17:05:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:05:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:05
2025-05-27 17:05:17 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:05:17 [Thread-158] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:05:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:05:17 [Thread-158] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:05:17 [Thread-158] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Shutdown initiated...
2025-05-27 17:05:17 [Thread-158] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Shutdown completed.
2025-05-27 17:05:17 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:05:17 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:05:17 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:05:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:05:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 10 JPA repository interfaces.
2025-05-27 17:05:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:05:17 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:05:17 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:05:17 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:05:17 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 145 ms
2025-05-27 17:05:17 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:05:17 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:05:17 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:05:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Starting...
2025-05-27 17:05:17 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-41 - Added connection com.mysql.cj.jdbc.ConnectionImpl@651cfe81
2025-05-27 17:05:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Start completed.
2025-05-27 17:05:17 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:05:17 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-41)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:05:17 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:05:17 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:05:17 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:05:17 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:05:17 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:05:17 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:05:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:05:17 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:05:17 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:05:17 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:05:17 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:05:17 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:05:17 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:05:17 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:05:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:05:17 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.706 seconds (process running for 4454.855)
2025-05-27 17:05:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:05:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:05:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:05:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:05:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:05:17 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:05:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:05:17 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:05:17 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:05:50 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:05:50 [Thread-162] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:05:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:05:50 [Thread-162] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:05:50 [Thread-162] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Shutdown initiated...
2025-05-27 17:05:50 [Thread-162] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Shutdown completed.
2025-05-27 17:05:51 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:05:51 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:05:51 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:05:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:05:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 10 JPA repository interfaces.
2025-05-27 17:05:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:05:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:05:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:05:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:05:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 139 ms
2025-05-27 17:05:51 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:05:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:05:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:05:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Starting...
2025-05-27 17:05:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-42 - Added connection com.mysql.cj.jdbc.ConnectionImpl@52d3b111
2025-05-27 17:05:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Start completed.
2025-05-27 17:05:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:05:51 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-42)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:05:51 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:05:51 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:05:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:05:51 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:05:51 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:05:51 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:05:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:05:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:05:51 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:05:51 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:05:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:05:51 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:05:51 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:05:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:05:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:05:51 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.609 seconds (process running for 4488.553)
2025-05-27 17:05:51 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:05:51 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:05:51 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:05:51 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:05:51 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:05:51 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:05:51 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:05:51 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:05:51 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:06:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:06:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:06:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:07:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:07:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:07:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:08:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:08:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:08:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:09:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:09:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:09:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:10:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:10:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:10:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:08
2025-05-27 17:10:24 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:10:24 [Thread-166] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:10:24 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:10:24 [Thread-166] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:10:24 [Thread-166] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Shutdown initiated...
2025-05-27 17:10:24 [Thread-166] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Shutdown completed.
2025-05-27 17:10:24 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:10:24 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:10:24 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:10:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:10:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 10 JPA repository interfaces.
2025-05-27 17:10:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:10:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:10:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:10:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:10:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 146 ms
2025-05-27 17:10:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:10:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:10:25 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:10:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Starting...
2025-05-27 17:10:25 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-43 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c176665
2025-05-27 17:10:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Start completed.
2025-05-27 17:10:25 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:10:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-43)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:10:25 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:10:25 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:10:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:10:25 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:10:25 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:10:25 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:10:25 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:10:25 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:10:25 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:10:25 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:10:25 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:10:25 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:10:25 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:10:25 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:10:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:10:25 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.65 seconds (process running for 4762.434)
2025-05-27 17:10:25 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:10:25 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:10:25 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:10:25 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:10:25 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:10:25 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:10:25 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:10:25 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:10:25 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:11:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:11
2025-05-27 17:11:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:11:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:11
2025-05-27 17:12:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:12
2025-05-27 17:12:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:12:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:12
2025-05-27 17:13:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:13
2025-05-27 17:13:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:13:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:13
2025-05-27 17:13:23 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-27 17:13:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3fb25a1
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2eec9f02
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-27 17:13:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/notifications/settings
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - JWT từ cookie: Có
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Username từ JWT: hung161203
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã tải thông tin người dùng: hung161203
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Đã thiết lập xác thực cho: hung161203
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/notifications/settings
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/notifications/settings", parameters={}
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.hungtv.toeic.be.controllers.NotificationController#updateNotificationSettings(UpdateNotificationSettingRequest)
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.hungtv.toeic.be.payload.request.UpdateNotificationSettingRequest@108b281d]
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    where
        u1_0.username=?
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.user_id=?
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.hungtv.toeic.be.payload.response.NotificationSettingResponse@7462b7a7]
2025-05-27 17:13:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-05-27 17:14:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:14
2025-05-27 17:14:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:14:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:14
2025-05-27 17:15:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:15
2025-05-27 17:15:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:15:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:15
2025-05-27 17:16:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:16
2025-05-27 17:16:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:16:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:16
2025-05-27 17:17:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:17
2025-05-27 17:17:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:17:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:17
2025-05-27 17:18:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:18
2025-05-27 17:18:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:18:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:18
2025-05-27 17:19:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:19
2025-05-27 17:19:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=? 
        and (
            ns1_0.last_reminder_sent is null 
            or date(ns1_0.last_reminder_sent)<current_date
        )
2025-05-27 17:19:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:19
2025-05-27 17:19:48 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:19:48 [Thread-170] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:19:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:19:48 [Thread-170] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:19:48 [Thread-170] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Shutdown initiated...
2025-05-27 17:19:48 [Thread-170] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Shutdown completed.
2025-05-27 17:19:48 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:19:48 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:19:48 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:19:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:19:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 10 JPA repository interfaces.
2025-05-27 17:19:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:19:49 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:19:49 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:19:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:19:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 214 ms
2025-05-27 17:19:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:19:49 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:19:49 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:19:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Starting...
2025-05-27 17:19:49 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-44 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58345677
2025-05-27 17:19:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Start completed.
2025-05-27 17:19:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:19:49 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-44)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:19:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:19:49 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:19:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:19:49 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:19:49 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:19:49 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:19:49 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:19:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:19:49 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:19:49 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:19:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:19:49 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:19:49 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:19:49 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:19:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:19:49 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.931 seconds (process running for 5326.87)
2025-05-27 17:19:49 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:19:49 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:19:49 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:19:49 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:19:49 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:19:49 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:19:49 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:19:49 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:19:49 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:19:52 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:19:52 [Thread-174] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:19:52 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:19:52 [Thread-174] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:19:52 [Thread-174] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Shutdown initiated...
2025-05-27 17:19:52 [Thread-174] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Shutdown completed.
2025-05-27 17:19:53 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:19:53 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:19:53 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:19:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:19:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 10 JPA repository interfaces.
2025-05-27 17:19:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:19:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:19:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:19:53 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:19:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 153 ms
2025-05-27 17:19:53 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:19:53 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:19:53 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:19:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Starting...
2025-05-27 17:19:53 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-45 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40ad19c6
2025-05-27 17:19:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Start completed.
2025-05-27 17:19:53 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:19:53 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-45)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:19:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:19:53 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:19:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:19:53 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:19:53 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:19:53 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:19:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:19:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:19:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:19:53 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:19:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:19:53 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:19:53 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:19:53 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:19:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:19:53 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.715 seconds (process running for 5330.657)
2025-05-27 17:19:53 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:19:53 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:19:53 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:19:53 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:19:53 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:19:53 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:19:53 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:19:53 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:19:53 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:20:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:20
2025-05-27 17:20:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=?
2025-05-27 17:20:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:20
2025-05-27 17:20:30 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:20:30 [Thread-178] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:20:30 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:20:30 [Thread-178] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:20:30 [Thread-178] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Shutdown initiated...
2025-05-27 17:20:30 [Thread-178] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Shutdown completed.
2025-05-27 17:20:30 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:20:30 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:20:30 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:20:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:20:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 10 JPA repository interfaces.
2025-05-27 17:20:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:20:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:20:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:20:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:20:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 159 ms
2025-05-27 17:20:30 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:20:30 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:20:30 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:20:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Starting...
2025-05-27 17:20:31 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-46 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f0b2fae
2025-05-27 17:20:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Start completed.
2025-05-27 17:20:31 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:20:31 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-46)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:20:31 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:20:31 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:20:31 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:20:31 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:20:31 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:20:31 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:20:31 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:20:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:20:31 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:20:31 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:20:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:20:31 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:20:31 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:20:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:20:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:20:31 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.708 seconds (process running for 5368.461)
2025-05-27 17:20:31 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:20:31 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:20:31 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:20:31 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:20:31 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:20:31 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:20:31 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:20:31 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:20:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:21:00 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Bắt đầu gửi nhắc nhở học tập cho giờ: 17:21
2025-05-27 17:21:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        ns1_0.id,
        ns1_0.created_at,
        ns1_0.email_notifications,
        ns1_0.last_email_sent,
        ns1_0.last_reminder_sent,
        ns1_0.study_reminder_time,
        ns1_0.study_reminders,
        ns1_0.updated_at,
        ns1_0.user_id 
    from
        notification_settings ns1_0 
    where
        ns1_0.study_reminders=1 
        and ns1_0.study_reminder_time=?
2025-05-27 17:21:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.full_name,
        u1_0.password,
        r1_0.user_id,
        r1_1.id,
        r1_1.name,
        u1_0.token_expiry_date,
        u1_0.updated_at,
        u1_0.username,
        u1_0.verification_token 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
2025-05-27 17:21:03 [scheduling-1] INFO  c.h.toeic.be.services.EmailService - Email đã được gửi đến: hung161203@gmail.com
2025-05-27 17:21:03 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Đã gửi nhắc nhở học tập cho người dùng: hung161203
2025-05-27 17:21:03 [scheduling-1] INFO  c.h.t.b.services.NotificationService - Hoàn thành gửi nhắc nhở học tập cho giờ: 17:21
2025-05-27 17:21:03 [scheduling-1] DEBUG org.hibernate.SQL - 
    update
        notification_settings 
    set
        email_notifications=?,
        last_email_sent=?,
        last_reminder_sent=?,
        study_reminder_time=?,
        study_reminders=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-05-27 17:21:14 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:21:14 [Thread-182] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:21:14 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:21:14 [Thread-182] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:14 [Thread-182] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Shutdown initiated...
2025-05-27 17:21:14 [Thread-182] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Shutdown completed.
2025-05-27 17:21:14 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:21:14 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:21:14 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:21:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:21:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 10 JPA repository interfaces.
2025-05-27 17:21:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:21:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:21:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:21:14 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:21:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 171 ms
2025-05-27 17:21:14 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:21:14 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:21:14 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:21:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Starting...
2025-05-27 17:21:14 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-47 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e8eb8d2
2025-05-27 17:21:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Start completed.
2025-05-27 17:21:14 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:21:14 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-47)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:21:14 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:21:14 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:21:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:14 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:21:15 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:21:15 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:21:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:21:15 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:21:15 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:21:15 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:21:15 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:21:15 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:21:15 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:21:15 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:21:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:21:15 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.686 seconds (process running for 5412.252)
2025-05-27 17:21:15 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:21:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:15 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:15 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:15 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:21:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:15 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:21:20 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:21:20 [Thread-186] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:21:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:21:20 [Thread-186] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:20 [Thread-186] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Shutdown initiated...
2025-05-27 17:21:20 [Thread-186] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Shutdown completed.
2025-05-27 17:21:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:21:20 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:21:20 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:21:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:21:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 10 JPA repository interfaces.
2025-05-27 17:21:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:21:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:21:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:21:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:21:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 196 ms
2025-05-27 17:21:20 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:21:20 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:21:20 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:21:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Starting...
2025-05-27 17:21:20 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-48 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42afde1
2025-05-27 17:21:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Start completed.
2025-05-27 17:21:20 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:21:20 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-48)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:21:20 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:21:20 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:21:20 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:20 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:21:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:21:20 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:21:21 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:21:21 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:21:21 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:21:21 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:21:21 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:21:21 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:21:21 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:21:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:21:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:21:21 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.846 seconds (process running for 5418.201)
2025-05-27 17:21:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:21:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:21 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:21 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:21:21 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:21:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:21:38 [Thread-190] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:21:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:21:38 [Thread-190] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:38 [Thread-190] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Shutdown initiated...
2025-05-27 17:21:38 [Thread-190] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Shutdown completed.
2025-05-27 17:21:38 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:21:38 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:21:38 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:21:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:21:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 10 JPA repository interfaces.
2025-05-27 17:21:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:21:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:21:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:21:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:21:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 150 ms
2025-05-27 17:21:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:21:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:21:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:21:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Starting...
2025-05-27 17:21:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-49 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bd06110
2025-05-27 17:21:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Start completed.
2025-05-27 17:21:38 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:21:38 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-49)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:21:38 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:21:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:21:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:38 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:21:38 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:21:38 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:21:38 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:21:38 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:21:38 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:21:38 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:21:39 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:21:39 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:21:39 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:21:39 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:21:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:21:39 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.765 seconds (process running for 5436.027)
2025-05-27 17:21:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:21:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:39 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:39 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:21:39 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-05-27 17:21:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-05-27 17:21:44 [Thread-194] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-27 17:21:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-27 17:21:44 [Thread-194] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:44 [Thread-194] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Shutdown initiated...
2025-05-27 17:21:44 [Thread-194] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Shutdown completed.
2025-05-27 17:21:44 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Starting BeApplication using Java 21.0.7 with PID 9347 (/home/hwngtv/datn/be/target/classes started by hwngtv in /home/hwngtv/datn)
2025-05-27 17:21:44 [restartedMain] DEBUG com.hungtv.toeic.be.BeApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-27 17:21:44 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-27 17:21:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-27 17:21:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 10 JPA repository interfaces.
2025-05-27 17:21:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-27 17:21:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-27 17:21:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-27 17:21:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-27 17:21:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 197 ms
2025-05-27 17:21:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-27 17:21:44 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-27 17:21:44 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-27 17:21:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-50 - Starting...
2025-05-27 17:21:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-50 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7dcbb1ce
2025-05-27 17:21:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-50 - Start completed.
2025-05-27 17:21:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-27 17:21:44 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-50)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-27 17:21:44 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-27 17:21:44 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table roles 
       modify column name enum ('ROLE_ADMIN','ROLE_MODERATOR','ROLE_USER')
2025-05-27 17:21:44 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-27 17:21:44 [restartedMain] DEBUG c.h.t.b.security.jwt.AuthTokenFilter - Filter 'authenticationJwtTokenFilter' configured for use
2025-05-27 17:21:44 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-27 17:21:44 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-27 17:21:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-27 17:21:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 68 mappings in 'requestMappingHandlerMapping'
2025-05-27 17:21:45 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-27 17:21:45 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-27 17:21:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-27 17:21:45 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-27 17:21:45 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-27 17:21:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-27 17:21:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-27 17:21:45 [restartedMain] INFO  com.hungtv.toeic.be.BeApplication - Started BeApplication in 0.984 seconds (process running for 5442.128)
2025-05-27 17:21:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Bắt đầu khởi tạo dữ liệu ban đầu...
2025-05-27 17:21:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
2025-05-27 17:21:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Các vai trò đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:45 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-05-27 17:21:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Tài khoản admin đã tồn tại, bỏ qua bước khởi tạo.
2025-05-27 17:21:45 [restartedMain] INFO  c.h.toeic.be.config.DatabaseSeeder - Hoàn tất khởi tạo dữ liệu ban đầu!
2025-05-27 17:21:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
